#!/user/bin/env python
# -*- coding:utf-8 -*-
# @Time    : 2018/7/16 16:53
# @Author  : 疏影
# @File    : convertReport.py
import base64
import json
import urllib2

def parse_url_report(url):
    return json.loads(urllib2.urlopen(url).read().decode('utf-8'))

def parse_json_report(json_str):
    return json.loads(base64.urlsafe_b64decode(json_str).decode('utf-8'))

if __name__ == '__main__':
    # url = 'http://sdhh.oss-cn-hangzhou.aliyuncs.com//develop/yys/20180615/TASKYYS100000201806121424000661521548_base.txt'
    # report_str =  parse_url_report(url)
    # print json.dumps(report_str)

    str1 = 'eyJjb250YWN0cyI6W3sibmFtZSI6Ilx1NTkyN1x1NzI1OSIsInBob25lIjoiMTgwMTAxNjE2ODUifSx7Im5hbWUiOiJcdTY3NWNcdTVkZTUiLCJwaG9uZSI6IjEzOTEwNjU3OTg5In0seyJuYW1lIjoiXHU5MGVkXHU1MmM3IiwicGhvbmUiOiIxODExOTE2NzA3OSJ9LHsibmFtZSI6Ilx1Njc0ZVx1N2VhMlx1NTE5YiIsInBob25lIjoiMTM3MTY2NDA1NjcifSx7Im5hbWUiOiJcdTY3NGVcdTUyMGEiLCJwaG9uZSI6IjEzMzkxODcyNjc4In0seyJuYW1lIjoiXHU0ZWFlXHU0ZWFlIiwicGhvbmUiOiIxMzMxMTE2MDk2MCJ9LHsibmFtZSI6Ilx1NTIxOFx1N2VlN1x1NTZmZCIsInBob25lIjoiMTM1NjEzMDczMDgifSx7Im5hbWUiOiJcdTUyMThcdTgzMDJcdTk2ZjciLCJwaG9uZSI6IjEzNjkxNTI5NDAxIn0seyJuYW1lIjoiXHU1MjE4XHU2NzY4IiwicGhvbmUiOiIxNTcwMTIzNTUwNSJ9LHsibmFtZSI6Ilx1NTIxOFx1NmMzOFx1NTE5YiIsInBob25lIjoiMTM5MzgyNjAzMTUifSx7Im5hbWUiOiJcdTUyMThcdTgzMDJcdTY4ZWUiLCJwaG9uZSI6IjE1MDIyNzczNjg5In0seyJuYW1lIjoiXHU1MjE4XHU1MmNiIiwicGhvbmUiOiIxNTgwMjkwNTgxNSJ9LHsibmFtZSI6Ilx1OWE2Y1x1ODAwMVx1NWUwOCIsInBob25lIjoiMTU2NTIyNzYwMzAifSx7Im5hbWUiOiJcdTcyNWJcdTZjMzhcdTY1YjAiLCJwaG9uZSI6IjE1MDY1MDcwMDI4In0seyJuYW1lIjoiXHU2Yzg4XHU1MTliIiwicGhvbmUiOiIxMzkxMTIyNTgzNiJ9LHsibmFtZSI6Ilx1NWI1OVx1N2FkOSIsInBob25lIjoiMTgxOTU3ODM3NzkifSx7Im5hbWUiOiJcdTViNTlcdTUxNmMiLCJwaG9uZSI6IjEzNjk5MjUxMDcxIn0seyJuYW1lIjoiXHU3MThhXHU2MDNiIiwicGhvbmUiOiIxMzgwMTI0Mjc0NCJ9LHsibmFtZSI6Ilx1NWY5MFx1NjAzYiIsInBob25lIjoiMTM2MDEyNTI2MjgifSx7Im5hbWUiOiJcdTVmMjBcdTVlZmFcdTZjZmQiLCJwaG9uZSI6IjE1MjAxMjMzNzY5In0seyJuYW1lIjoiXHU4ZDc1IiwicGhvbmUiOiIxNzA3OTE5OTk5NSJ9LHsibmFtZSI6Ilx1OGQ3NVx1OTFkMVx1ODJmMSIsInBob25lIjoiMTUxNjMwMzg5ODIifV19'
    str2 = "eyJyaXNrX2l0ZW1zIjpbeyJyaXNrX2xldmVsIjoibG93IiwiaXRlbV9kZXRhaWwiOnsiZnJlcXVlbmN5X2RldGFpbF9saXN0IjpbeyJkYXRhIjpbIjEzNTcyNDg5ODUwIiwiMTM1KioqKjk4NTAiXSwiZGV0YWlsIjoiM1x1NGUyYVx1NjcwOFx1OGVhYlx1NGVmZFx1OGJjMVx1NTE3M1x1ODA1NFx1NjI0Ylx1NjczYVx1NTNmN1x1NjU3MFx1ZmYxYTIifV0sInR5cGUiOiJmcmVxdWVuY3lfZGV0YWlsIn0sIml0ZW1faWQiOjM3MzA2MzcsIml0ZW1fbmFtZSI6IjNcdTRlMmFcdTY3MDhcdTUxODVcdThlYWJcdTRlZmRcdThiYzFcdTUxNzNcdTgwNTRcdTU5MWFcdTRlMmFcdTc1MzNcdThiZjdcdTRmZTFcdTYwNmYiLCJncm91cCI6Ilx1NWJhMlx1NjIzN1x1ODg0Y1x1NGUzYVx1NjhjMFx1NmQ0YiJ9XSwiZmluYWxfc2NvcmUiOjYsImZpbmFsX2RlY2lzaW9uIjoiQWNjZXB0IiwiYXBwbGljYXRpb25faWQiOiIxODA3MTQxNDA2MzQ0NjQ5OTM4RkRGOEVEQzdDMTE1MiIsImFwcGx5X3RpbWUiOjE1MzE1NDgzOTQ1MTIsInJlcG9ydF90aW1lIjoxNTMxNTQ4Mzk1NjAxLCJhZGRyZXNzX2RldGVjdCI6eyJmaWVsZF9hZGRyZXNzIjpbeyJhZGRyZXNzIjoiXHU5NjU1XHU4OTdmXHU3NzAxXHU4OTdmXHU1Yjg5XHU1ZTAyIiwiZmllbGRfcGF0aCI6ImFjY291bnRfbW9iaWxlIiwidmFsdWVfZm9ybWF0IjoiTU9CSUxFIn0seyJhZGRyZXNzIjoiXHU5NjU1XHU4OTdmXHU3NzAxXHU1Yjg5XHU1ZWI3XHU1NzMwXHU1MzNhXHU1YzlhXHU3NjhiXHU1M2JmIiwiZmllbGRfcGF0aCI6ImlkX251bWJlciIsInZhbHVlX2Zvcm1hdCI6IklEX05VTUJFUiJ9XSwibW9iaWxlX2FkZHJlc3MiOiJcdTk2NTVcdTg5N2ZcdTc3MDFcdTg5N2ZcdTViODlcdTVlMDIiLCJpZF9jYXJkX2FkZHJlc3MiOiJcdTk2NTVcdTg5N2ZcdTc3MDFcdTViODlcdTVlYjdcdTU3MzBcdTUzM2FcdTVjOWFcdTc2OGJcdTUzYmYifX0="
    str3 = 'eyJyaXNrX2l0ZW1zIjpbeyJyaXNrX2xldmVsIjoibG93IiwiaXRlbV9kZXRhaWwiOnsiZnJlcXVlbmN5X2RldGFpbF9saXN0IjpbeyJkYXRhIjpbIjEzNTcyNDg5ODUwIiwiMTM1KioqKjk4NTAiXSwiZGV0YWlsIjoiM1x1NGUyYVx1NjcwOFx1OGVhYlx1NGVmZFx1OGJjMVx1NTE3M1x1ODA1NFx1NjI0Ylx1NjczYVx1NTNmN1x1NjU3MFx1ZmYxYTIifV0sInR5cGUiOiJmcmVxdWVuY3lfZGV0YWlsIn0sIml0ZW1faWQiOjM3MzA2MzcsIml0ZW1fbmFtZSI6IjNcdTRlMmFcdTY3MDhcdTUxODVcdThlYWJcdTRlZmRcdThiYzFcdTUxNzNcdTgwNTRcdTU5MWFcdTRlMmFcdTc1MzNcdThiZjdcdTRmZTFcdTYwNmYiLCJncm91cCI6Ilx1NWJhMlx1NjIzN1x1ODg0Y1x1NGUzYVx1NjhjMFx1NmQ0YiJ9XSwiZmluYWxfc2NvcmUiOjYsImZpbmFsX2RlY2lzaW9uIjoiQWNjZXB0IiwiYXBwbGljYXRpb25faWQiOiIxODA3MTQxNDA2MzQ0NjQ5OTM4RkRGOEVEQzdDMTE1MiIsImFwcGx5X3RpbWUiOjE1MzE1NDgzOTQ1MTIsInJlcG9ydF90aW1lIjoxNTMxNTQ4Mzk1NjAxLCJhZGRyZXNzX2RldGVjdCI6eyJmaWVsZF9hZGRyZXNzIjpbeyJhZGRyZXNzIjoiXHU5NjU1XHU4OTdmXHU3NzAxXHU4OTdmXHU1Yjg5XHU1ZTAyIiwiZmllbGRfcGF0aCI6ImFjY291bnRfbW9iaWxlIiwidmFsdWVfZm9ybWF0IjoiTU9CSUxFIn0seyJhZGRyZXNzIjoiXHU5NjU1XHU4OTdmXHU3NzAxXHU1Yjg5XHU1ZWI3XHU1NzMwXHU1MzNhXHU1YzlhXHU3NjhiXHU1M2JmIiwiZmllbGRfcGF0aCI6ImlkX251bWJlciIsInZhbHVlX2Zvcm1hdCI6IklEX05VTUJFUiJ9XSwibW9iaWxlX2FkZHJlc3MiOiJcdTk2NTVcdTg5N2ZcdTc3MDFcdTg5N2ZcdTViODlcdTVlMDIiLCJpZF9jYXJkX2FkZHJlc3MiOiJcdTk2NTVcdTg5N2ZcdTc3MDFcdTViODlcdTVlYjdcdTU3MzBcdTUzM2FcdTVjOWFcdTc2OGJcdTUzYmYifX0='
    str4 = 'eyJ1c2VyX2lkIjoiNTAwMDAwNjg2IiwibGFzdF9jb250YWN0X2F0IjoiMjAxOC0wNi0xMiAxNDoxOTo1MSIsImNvbnRhY3RzIjpbXSwidmVyc2lvbiI6Mn0='
    report_dict = parse_json_report(str1)
    print report_dict
    print json.dumps(report_dict)

    # print len(report_dict['contacts'])